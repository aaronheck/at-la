<!DOCTYPE html>
<html>
  <head>
    <title>Appalachian Trail, Los Angeles</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      var map;
      function initMap() {

        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 6
        });
        map.fitBounds(new google.maps.LatLngBounds({lat: 34.626688, lng: -84.193892}, {lat: 45.90424, lng: -68.921152}))
        map.data.loadGeoJson(
          'http://aaronrosenheck.com/data/centerline.json');

        map.data.setStyle(function(feature) {
          var color = feature.getProperty('color');
          return {
            strokeColor: color,
            strokeWeight: 3,
            // icon: "marker.png"
          };
        });

        var infowindow = new google.maps.InfoWindow({
            content: "250 miles down"
          });
        map.data.addListener('click', function(event) {
          var distanceFromStart = (event.feature.getProperty("distanceFromStart") * 0.000621371).toFixed(2);
          var toGo = 2190 - distanceFromStart
          infowindow.setContent("<div style='width:150px; text-align:center;'>"+ distanceFromStart +" miles down " + toGo + " to go! </div>");
          // position the infowindow on the marker
          infowindow.setPosition(event.feature.getGeometry().get());
          // anchor the infowindow on the marker
          infowindow.setOptions({pixelOffset: new google.maps.Size(0,-30)});
          infowindow.open(map);
        });
      }

    </script>

    <!-- Replace the access key below. removing it from source code because google sends me emails thinking it leaked even though it needs to be exposerd to the public in my website anyway. -->
    <script src="https://maps.googleapis.com/maps/api/js?key=<>&callback=initMap&libraries=geometry"
    async defer></script>
  </body>
</html>